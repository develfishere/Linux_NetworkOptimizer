# تغییرات

## نسخه 0.6 - 2024-11-30

### رفع شده

#### حذف بهینه‌سازی بر اساس speedtest به دلیل عدم پایداری در شرایط مختلف

#### بهینه‌سازی کد و تنظیم استفاده از IPv4 برای apt به صورت پیش‌فرض

## نسخه 0.5 - 2024-11-01

### رفع شده

#### حذف الگوریتم صف‌‌بندی `fq` و استفاده از `cake` به دلیل بازدهی بهتر

## نسخه 0.4 - 2024-10-31

### اضافه شده

#### تنظیم و رفع مشکلات هاست و تنظیمات DNS سرور

#### پیاده‌سازی تابعی برای یافتن بهترین اندازه MTU به منظور بهبود عملکرد شبکه

### رفع شده

#### الزام دستورات `apt update` و `apt upgrade` به استفاده از IPv4 برای جلوگیری از مشکلات اتصال در پیکربندی‌های IPv6

## نسخه 0.3 - 2024-10-24

### اضافه شده

#### اضافه شدن منطق بررسی نسخه‌های موجود یا ناسازگار از `speedtest-cli` و حذف آن‌ها قبل از نصب Speedtest CLI از Ookla

#### اضافه شدن مدیریت شکست در مواردی که نصب Ookla Speedtest CLI از طریق `apt` شکست می‌خورد، با ثبت خطا و خروج از اسکریپت به جای فرض کردن سرعت پیش‌فرض ۲۰۰ مگابیت

#### ارائه دستورالعمل‌های نصب دستی برای Ookla Speedtest CLI در فایل README

#### اسکریپت اکنون قبل از نصب وابستگی‌های مورد نیاز، سیستم را به طور کامل به‌روزرسانی و ارتقاء می‌دهد تا از بروز تداخل بسته‌ها یا نرم‌افزارهای قدیمی جلوگیری شود

## نسخه 0.2 - 2024-10-23

### اضافه شده

#### معرفی انتخاب پویا برای انواع صف‌بندی (`fq`، `fq_codel`، `cake`) بر اساس منابع سیستم (RAM و CPU)

1- **سیستم‌های کم‌قدرت**: استفاده از `fq_codel` برای کاهش تأخیر

2- **سیستم‌های متوسط**: استفاده از `fq` برای تعادل عملکرد

3- **سیستم‌های پرقدرت**: استفاده از `cake` برای مدیریت پیشرفته صف و عملکرد بهینه در سناریوهای ترافیک بالا

#### بهبود تنظیمات حافظه بافر TCP و ظرفیت صف پشتیبان

1- تنظیم پویا `rmem_max`، `wmem_max` و `netdev_max_backlog` بر اساس منابع سیستم (RAM و CPU).

#### بهینه‌سازی تنظیمات شبکه بر اساس سرعت شبکه

1- تنظیم خودکار `tcp_rmem` و `tcp_wmem` برای سرعت‌های مختلف شبکه جهت بهبود گذردهی و کاهش تأخیر.

### تغییرات

#### تنظیم پیش‌فرض نوع صف‌بندی از طریق `net.core.default_qdisc` به صورت پویا بر اساس نتایج بنچمارک سیستم

#### حفظ `bbr` به عنوان الگوریتم کنترل تراکم TCP پیش‌فرض برای گذردهی بهینه و تأخیر کم

#### به‌روزرسانی مکانیسم ثبت لاگ sysctl برای ثبت انتخاب نوع صف‌بندی و تنظیمات شبکه پویا

### رفع مشکلات

#### جلوگیری از ایجاد پشتیبان تکراری از `/sysctl.conf` در صورتی که یک پشتیبان موجود باشد، به منظور ساده‌سازی فرآیند پیکربندی

### سایر

#### بهبود توضیحات داخلی و پیام‌های لاگ برای خوانایی بهتر و ردیابی تنظیمات پویا سیستم
